<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>PartyKit: Everything's better with friends!</title>
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" sizes="any" />
    <!-- Primary Meta Tags -->
    <meta name="title" content="PartyKit" />
    <meta name="description" content="Everything's better with friends!" />
    <meta name="author" content="PartyKit" />
    <!-- Theme Colour -->
    <meta name="theme-color" content="#ffffff" />

    <link rel="stylesheet" href="/normalize.css" />
    <link rel="stylesheet" href="/dist/client.css" />
  
  </head>
  <body>
    <div id="app">
      <h1>ðŸŽˆWelcome to Hackbot 2023ðŸŽˆ</h1>
    </div>
    <div class="botDiv">
      <div class="botMove">
        <button class="botStyle" id="bot1" onclick=onClick()>Forward</button>
        <button class="botStyle" id="bot2" onclick=onClick()>Backward</button>
        <button class="botStyle" id="bot3" onclick=onClick()>Right</button>
        <button class="botStyle" id="bot4" onclick=onClick()>Left</button>
      </div>

      <button class="botStyle" id="bot5" onclick=onClick()>Light</button>
      <button class="botStyle" id="bot6" onclick=onClick()>Temperature</button>
      <button class="botStyle" id="bot7" onclick=onClick()>Dance</button>
    </div>
    <script type="module" src="/dist/client.js"></script>
    <script src="/socket.io/socket.io.js"></script>
  </body>
  <footer>All rights reserved AT-D2 team</footer>
</html>



<script type="text/javascript">
    
const onClick = () => {
    const h2 = document.createElement('h2')
 

    const button =  document.getElementsByClassName('botStyle');

    const onClick = (event) => {
    if (event.target.nodeName === 'BUTTON') {
      event.preventDefault();
      
      h2.innerText = `Bot ${event.target.innerHTML}`;
      document.body.append(h2);

      setTimeout(() => {
        h2.innerHTML = '';

        window.removeEventListener('click', onClick); 
        
      }, 1000)

      // alert("button " + event.target.innerHTML + " was clicked");
    }
  }

  window.addEventListener('click', onClick);
  
    // fetch("http://localhost:8000/", {
    //   method: "GET",
    //   }).then(res => res.text())
    //   .then(text => {
    //     console.log("Request complete! response:", text);
    //   });


    window.onload= function(){
    const socket = io('<forward-url>');
    }
 
 
    socket.emit(button.innerHTML, msg.value);
    button.value = '';
    return (false);

    socket.timeout(2000).emit('command', val, (err, response) => {
      if (err) {
        console.log('the server did not acknowledge the event in the given delay');
      } else {
        console.log(response);
      }
    });
    console.log(socket);
}

</script>